<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Secure SMS Sender</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Syncopate:wght@700&family=Bai+Jamjuree:wght@400;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
  <style>
    :root { --primary:#00c4ff; --secondary:#8e44ad; --background:#0a0015; --card-bg:rgba(2,0,5,0.8); --text-light:#f0f8ff; --text-muted:#64b5f6; --border-color:rgba(142,68,173,0.4); --error:#FF5722; --success:#2ECC71;}
    body[data-theme="emerald"] {--primary:#00e8c7; --secondary:#00a896; --background:#001515; --card-bg:rgba(0,5,5,0.8); --border-color:rgba(0,168,150,0.4);}
    body[data-theme="crimson"] {--primary:#ff5722; --secondary:#c0392b; --background:#150500; --card-bg:rgba(5,2,0,0.8); --border-color:rgba(192,57,43,0.4);}
    *{box-sizing:border-box;margin:0;padding:0;}
    body{background-color:var(--background);font-family:'Bai Jamjuree',sans-serif;color:var(--text-light);min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;}
    .container{max-width:500px;width:100%;}
    .card{background:var(--card-bg);backdrop-filter:blur(5px);border:1px solid var(--border-color);border-radius:12px;padding:30px;margin-bottom:25px;box-shadow:0 4px 15px rgba(0,0,0,0.3);}
    h2{font-family:'Syncopate',sans-serif;font-size:1.8rem;text-align:center;margin-bottom:25px;color:var(--primary);}
    h2 .icon{font-size:1.2em;margin-right:10px;}
    .input-wrapper{position:relative;margin-bottom:20px;}
    input[type="text"],textarea{width:100%;padding:12px 15px;font-size:16px;border-radius:8px;border:1px solid var(--border-color);outline:none;background:transparent;color:var(--text-light);}
    input::placeholder,textarea::placeholder{color:var(--text-muted);}
    input:focus,textarea:focus{border-color:var(--primary);box-shadow:0 0 5px var(--primary);}
    textarea{resize:vertical;min-height:80px;}
    button{width:100%;padding:12px 0;font-size:16px;font-weight:600;border:none;border-radius:8px;background:var(--secondary);color:white;cursor:pointer;text-transform:uppercase;}
    button:hover{background:var(--primary);}
    .result{padding:20px;border-radius:8px;font-size:14px;line-height:1.6;text-align:center;background:rgba(0,0,0,0.5);border:1px dashed var(--border-color);}
    .result.initial{color:var(--text-muted);}
    .error{background:rgba(255,69,0,0.2);color:var(--error);border-color:var(--error);}
    .spinner{border:3px solid rgba(255,255,255,0.2);border-top:3px solid var(--primary);border-radius:50%;width:20px;height:20px;animation:spin 1s linear infinite;display:inline-block;vertical-align:middle;margin-left:8px;}
    @keyframes spin{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}
    .whatsapp-button{position:fixed;right:25px;bottom:25px;padding:12px 20px;background:var(--success);color:white;border-radius:50px;text-decoration:none;font-weight:600;}
  </style>
</head>
<body>
  <div class="container">
    <section class="card">
      <h2><i class="fas fa-sms icon"></i> Secure SMS Sender</h2>
      <div class="input-wrapper">
        <input type="text" id="smsMobile" placeholder="Enter recipient's 11-digit number" maxlength="11" />
      </div>
      <div class="input-wrapper">
        <textarea id="smsMessage" placeholder="Enter your message text" required></textarea>
      </div>
      <button onclick="sendCrownOneSms()">Send SMS</button>
      <div id="smsStatus" class="result initial">Send messages securely...</div>
    </section>
  </div>
  <a href="https://whatsapp.com/channel/0029Vb9shWp4o7qPSrCXS603" target="_blank" class="whatsapp-button"><i class="fab fa-whatsapp"></i> Join Channel</a>

  <script>
    async function sendCrownOneSms() {
      const mobile = document.getElementById('smsMobile').value.trim();
      const message = document.getElementById('smsMessage').value.trim();
      const statusDiv = document.getElementById('smsStatus');
      statusDiv.innerHTML = `<p>Sending SMS... <span class="spinner"></span></p>`;
      statusDiv.className = 'result initial';

      if (!/^03\d{9}$/.test(mobile)) {
        statusDiv.className = 'result error';
        statusDiv.innerHTML = "‚ùå Invalid number";
        return;
      }
      if (!message){
        statusDiv.className = 'result error';
        statusDiv.innerHTML = "‚ùå Empty message";
        return;
      }

      try {
        const res = await fetch('/send-sms', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ mobile, message })
        });

        const result = await res.json();

        if (res.ok && result.success) {
          statusDiv.className = 'result';
          statusDiv.innerHTML = `üôÑ SYSTEM BLOCKED BY DEVELOPER`;
        } else {
          statusDiv.className = 'result error';
          statusDiv.innerHTML = `‚ùå Failed: ${result.error || 'Unknown error'}`;
        }
      } catch (e) {
        statusDiv.className = 'result error';
        statusDiv.innerHTML = "üôÑ SYSTEM BLOCKED BY DEVELOPER";
      }
    }
  </script>
</body>
</html>
