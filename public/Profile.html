<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>WHATSAPP PROFILE VIEWER</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      background: linear-gradient(135deg, #0f172a, #1e293b);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      color: white;
    }
    .glass-card {
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(16px);
      border-radius: 1.5rem;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    }
    .animate-border {
      background: linear-gradient(270deg, #06b6d4, #3b82f6, #8b5cf6, #ec4899, #f59e0b);
      background-size: 1000% 1000%;
      animation: borderAnim 15s ease infinite;
    }
    @keyframes borderAnim {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
  </style>
</head>
<body>
  <div class="p-1 rounded-3xl animate-border">
    <div class="glass-card p-10 w-[420px] max-w-full text-center">
      <h1 class="text-3xl font-bold mb-6">WHATSAPP PROFILE VIEWER</h1><input id="phoneInput" maxlength="12" placeholder="Enter 12-digit number" class="w-full px-4 py-3 rounded-xl border border-gray-600 text-black focus:ring-2 focus:ring-cyan-500 focus:outline-none" />
  
  <button id="searchBtn" class="mt-4 w-full py-3 rounded-xl font-semibold text-lg bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 disabled:opacity-40 disabled:cursor-not-allowed">üîç Search</button>
  
  <div id="result" class="mt-6 hidden">
    <img id="dpImage" src="" alt="Profile Picture" class="rounded-2xl mx-auto shadow-lg border border-gray-700" />
    
    <div class="flex justify-center gap-4 mt-4">
      <a id="openBtn" target="_blank" class="px-4 py-2 rounded-xl bg-green-600 hover:bg-green-700 text-white">üåê Open</a>
      <a id="downloadBtn" download="profile.jpg" class="px-4 py-2 rounded-xl bg-pink-600 hover:bg-pink-700 text-white">‚¨áÔ∏è Download</a>
      <button id="resetBtn" class="px-4 py-2 rounded-xl bg-gray-600 hover:bg-gray-700 text-white">‚ôªÔ∏è Reset</button>
    </div>
  </div>
  
  <p id="error" class="text-red-400 mt-4 hidden"></p>
</div>

  </div>  <script>
    const phoneInput = document.getElementById("phoneInput");
    const searchBtn = document.getElementById("searchBtn");
    const resultDiv = document.getElementById("result");
    const dpImage = document.getElementById("dpImage");
    const openBtn = document.getElementById("openBtn");
    const downloadBtn = document.getElementById("downloadBtn");
    const resetBtn = document.getElementById("resetBtn");
    const errorMsg = document.getElementById("error");

    function validateNumber() {
      return /^\d{12}$/.test(phoneInput.value);
    }

    phoneInput.addEventListener("input", () => {
      searchBtn.disabled = !validateNumber();
    });

    searchBtn.addEventListener("click", async () => {
      if (!validateNumber()) {
        errorMsg.textContent = "‚ùå Please enter a valid 12-digit number.";
        errorMsg.classList.remove("hidden");
        return;
      }
      errorMsg.classList.add("hidden");

      const phone = phoneInput.value;
      const url = `/api/dp?phone=${phone}`;
      
      try {
        dpImage.src = url;
        openBtn.href = url;
        downloadBtn.href = url;
        resultDiv.classList.remove("hidden");
      } catch (e) {
        errorMsg.textContent = "‚ùå Failed to fetch profile picture.";
        errorMsg.classList.remove("hidden");
      }
    });

    resetBtn.addEventListener("click", () => {
      phoneInput.value = "";
      searchBtn.disabled = true;
      resultDiv.classList.add("hidden");
      errorMsg.classList.add("hidden");
    });

    searchBtn.disabled = true;
  </script></body>
</html>
